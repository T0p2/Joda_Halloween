# TicketApp - AplicaciÃ³n de Venta de Entradas de Fiesta

Una aplicaciÃ³n web completa para la venta de entradas de fiesta con pagos seguros, cÃ³digos QR Ãºnicos y envÃ­o automÃ¡tico por email.

## ğŸš€ CaracterÃ­sticas

- **Frontend Moderno**: React con TypeScript y Tailwind CSS
- **Backend Robusto**: Node.js con Express y SQLite
- **Pagos Seguros**: IntegraciÃ³n con Stripe
- **CÃ³digos QR Ãšnicos**: GeneraciÃ³n automÃ¡tica para cada entrada
- **EnvÃ­o de Emails**: Notificaciones automÃ¡ticas con entradas adjuntas
- **AutenticaciÃ³n**: Sistema de usuarios con JWT
- **ValidaciÃ³n de Pagos**: VerificaciÃ³n automÃ¡tica de transacciones
- **Interfaz Responsiva**: DiseÃ±o moderno y adaptable a todos los dispositivos

## ğŸ› ï¸ TecnologÃ­as Utilizadas

### Backend

- **Node.js** - Runtime de JavaScript
- **Express** - Framework web
- **SQLite** - Base de datos
- **Stripe** - Pasarela de pagos
- **Nodemailer** - EnvÃ­o de emails
- **QRCode** - GeneraciÃ³n de cÃ³digos QR
- **JWT** - AutenticaciÃ³n
- **bcryptjs** - EncriptaciÃ³n
- **express-validator** - ValidaciÃ³n de datos

### Frontend

- **React** - Biblioteca de UI
- **TypeScript** - Tipado estÃ¡tico
- **Tailwind CSS** - Framework de CSS
- **React Router** - NavegaciÃ³n
- **Axios** - Cliente HTTP
- **React Hot Toast** - Notificaciones
- **Lucide React** - Iconos
- **Stripe Elements** - Componentes de pago

## ğŸ“‹ Requisitos Previos

- Node.js (versiÃ³n 16 o superior)
- npm o yarn
- Cuenta de Stripe (para pagos)
- Cuenta de Gmail (para envÃ­o de emails)

## ğŸ”§ InstalaciÃ³n

### 1. Clonar el Repositorio

```bash
git clone <url-del-repositorio>
cd ticketing-app
```

### 2. Instalar Dependencias

```bash
# Instalar todas las dependencias (backend y frontend)
npm run install-all

# O instalar por separado:
npm install
cd server && npm install
cd ../client && npm install
```

### 3. Configurar Variables de Entornonpm re

#### Backend (.env)

Copia el archivo `server/env.example` a `server/.env` y configura las variables:

```bash
# Server Configuration
PORT=5000
NODE_ENV=development

# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here

# Email Configuration (Gmail)
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_password_here

# JWT Secret
JWT_SECRET=your_jwt_secret_key_here

# Database
DATABASE_PATH=./database.sqlite
```

#### Frontend (.env)

Crea un archivo `.env` en la carpeta `client`:

```bash
REACT_APP_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
```

### 4. Configurar Stripe

1. Crea una cuenta en [Stripe](https://stripe.com)
2. ObtÃ©n tus claves de API desde el dashboard
3. Configura webhooks (opcional para producciÃ³n)

### 5. Configurar Email (Gmail)

1. Habilita la verificaciÃ³n en dos pasos en tu cuenta de Gmail
2. Genera una contraseÃ±a de aplicaciÃ³n
3. Usa esa contraseÃ±a en la variable `EMAIL_PASS`

## ğŸš€ Ejecutar la AplicaciÃ³n

### Desarrollo

```bash
# Ejecutar backend y frontend simultÃ¡neamente
npm run dev

# O ejecutar por separado:
npm run server  # Backend en puerto 5000
npm run client  # Frontend en puerto 3000
```

### ProducciÃ³n

```bash
# Construir el frontend
npm run build

# Ejecutar solo el backend
npm run server
```

## ğŸ“± Uso de la AplicaciÃ³n

### 1. Registro/Login

- Los usuarios pueden registrarse con email, nombre y telÃ©fono
- El sistema utiliza autenticaciÃ³n por email (simplificado para demo)

### 2. Explorar Eventos

- Ver todos los eventos disponibles
- Buscar eventos por nombre o ubicaciÃ³n
- Ver detalles, precios y disponibilidad

### 3. Comprar Entradas

- Seleccionar cantidad de entradas
- Completar el proceso de pago con Stripe
- Recibir confirmaciÃ³n inmediata

### 4. Gestionar Entradas

- Ver todas las entradas compradas
- Generar cÃ³digos QR Ãºnicos
- Enviar entradas por email
- Descargar cÃ³digos QR

### 5. ValidaciÃ³n de Entradas

- Los organizadores pueden validar entradas escaneando cÃ³digos QR
- Sistema de estado de entradas (activa, usada, cancelada)

## ğŸ” Seguridad

- **Pagos**: Stripe maneja toda la informaciÃ³n de tarjetas de crÃ©dito
- **AutenticaciÃ³n**: JWT tokens con expiraciÃ³n
- **ValidaciÃ³n**: VerificaciÃ³n de datos en frontend y backend
- **Base de datos**: SQLite con consultas preparadas
- **Emails**: EnvÃ­o seguro con Nodemailer

## ğŸ“Š Estructura de la Base de Datos

### Tablas Principales

- **users**: InformaciÃ³n de usuarios
- **events**: Eventos disponibles
- **tickets**: Entradas vendidas
- **payments**: Transacciones de pago

## ğŸ§ª Testing

Para probar la aplicaciÃ³n:

1. **Pagos de Prueba**: Usa las tarjetas de prueba de Stripe

   - `4242 4242 4242 4242` (pago exitoso)
   - `4000 0000 0000 0002` (pago rechazado)
2. **Emails**: Configura un email real para recibir las entradas
3. **CÃ³digos QR**: Genera y descarga cÃ³digos QR para validaciÃ³n

## ğŸš€ Despliegue

### Heroku

```bash
# Configurar variables de entorno en Heroku
heroku config:set STRIPE_SECRET_KEY=sk_live_...
heroku config:set EMAIL_USER=your_email@gmail.com
# ... otras variables

# Desplegar
git push heroku main
```

### Vercel (Frontend)

```bash
# Instalar Vercel CLI
npm i -g vercel

# Desplegar
cd client
vercel
```

## ğŸ¤ Contribuir

1. Fork el proyecto
2. Crea una rama para tu feature (`git checkout -b feature/AmazingFeature`)
3. Commit tus cambios (`git commit -m 'Add some AmazingFeature'`)
4. Push a la rama (`git push origin feature/AmazingFeature`)
5. Abre un Pull Request

## ğŸ“ Licencia

Este proyecto estÃ¡ bajo la Licencia MIT. Ver el archivo `LICENSE` para mÃ¡s detalles.

## ğŸ†˜ Soporte

Si tienes problemas o preguntas:

1. Revisa la documentaciÃ³n
2. Verifica que todas las variables de entorno estÃ©n configuradas
3. AsegÃºrate de que Stripe estÃ© configurado correctamente
4. Revisa los logs del servidor para errores

## ğŸ”„ Actualizaciones Futuras

- [ ] Panel de administraciÃ³n para organizadores
- [ ] MÃºltiples mÃ©todos de pago
- [ ] Sistema de reembolsos
- [ ] Notificaciones push
- [ ] App mÃ³vil nativa
- [ ] IntegraciÃ³n con redes sociales
- [ ] Sistema de descuentos y cÃ³digos promocionales

---

**Â¡Disfruta usando TicketApp! ğŸ‰**
