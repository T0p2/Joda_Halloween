# 🎫 TicketApp - Sistema de Venta de Entradas

¡Bienvenido! Esta es una aplicación web para vender entradas de fiestas y eventos. Con esta aplicación puedes:

- ✅ Crear y vender entradas para tus eventos
- ✅ Aceptar pagos de forma segura con MercadoPago
- ✅ Generar códigos QR únicos para cada entrada
- ✅ Enviar las entradas por email automáticamente
- ✅ Validar entradas escaneando códigos QR

## 🚀 ¿Cómo empezar? (Guía para principiantes)

### Paso 1: Instalar lo necesario

Antes de empezar, necesitas tener instalado en tu computadora:

1. **Node.js** - Descárgalo desde: https://nodejs.org/
   - Selecciona la versión "LTS" (recomendada)
   - Instálalo siguiendo las instrucciones en pantalla

### Paso 2: Descargar el proyecto

1. Descarga este proyecto en tu computadora
2. Abre una ventana de comandos (terminal) en la carpeta del proyecto

### Paso 3: Instalar las dependencias

Ejecuta estos comandos uno por uno:

```bash
npm install
cd server
npm install
cd ../client
npm install
cd ..
```

### Paso 4: Configurar MercadoPago (para pagos)

1. Ve a https://www.mercadopago.com.ar/developers
2. Inicia sesión o crea una cuenta
3. Ve a "Tus integraciones" > "Credenciales"
4. Copia las credenciales de prueba (TEST)

Luego copia el archivo `server/env.example` a `server/.env` y actualiza las credenciales:

```bash
# Copia el archivo de ejemplo
copy server\env.example server\.env

# Luego edita server\.env con tus credenciales reales
```

El archivo `.env` debe contener:

```bash
# Configuración del servidor
PORT=5000
NODE_ENV=development

# MercadoPago (usa las credenciales que copiaste)
MERCADOPAGO_ACCESS_TOKEN=TEST-tu_access_token_aqui
MERCADOPAGO_PUBLIC_KEY=TEST-tu_public_key_aqui

# Email (opcional, para enviar entradas por email)
EMAIL_USER=tu_email@gmail.com
EMAIL_PASS=tu_contraseña_de_aplicacion

# JWT Secret (cualquier texto secreto)
JWT_SECRET=mi_clave_secreta_muy_larga_y_segura

# Base de datos
DATABASE_PATH=./database.sqlite
```

### Paso 5: ¡Ejecutar la aplicación!

Ejecuta este comando:

```bash
npm run dev
```

¡Listo! Tu aplicación estará funcionando en:
- **Frontend**: http://localhost:3000 (la página web)
- **Backend**: http://localhost:5000 (el servidor)

## 📱 ¿Cómo usar la aplicación?

### Para los usuarios (quienes compran entradas):

1. **Registrarse**: Ve a "Registrarse" y crea una cuenta
2. **Explorar eventos**: Ve a "Eventos" para ver las fiestas disponibles
3. **Comprar entradas**: Selecciona un evento y elige la cantidad
4. **Datos de asistentes**: Completa los datos de cada persona (nombre, email, DNI, teléfono)
5. **Pagar**: Usa MercadoPago para pagar de forma segura
6. **Recibir entradas**: Las entradas llegan por email con código QR

### Para los organizadores (quienes venden entradas):

1. **Crear eventos**: Usa la sección de administración para agregar nuevos eventos
2. **Exportar datos**: Ve a "Admin" para exportar listas de asistentes a Excel
3. **Validar entradas**: Escanea los códigos QR en la entrada
4. **Ver estadísticas**: Revisa cuántas entradas se vendieron y cuánto se recaudó

## 💳 Probar los pagos

Para probar que los pagos funcionen (sin usar dinero real), usa estas tarjetas de prueba de MercadoPago:

- **Tarjeta de éxito**: 4509 9535 6623 3704
- **Tarjeta rechazada**: 4000 0000 0000 0002

## 🔧 Si algo no funciona

### Error: "npm no se reconoce como comando"
- Asegúrate de haber instalado Node.js correctamente
- Reinicia tu computadora después de instalar Node.js

### Error: "Puerto en uso"
- Cierra otras aplicaciones que puedan estar usando los puertos 3000 o 5000
- O cambia los puertos en el archivo `.env`

### Error de MercadoPago
- Verifica que las credenciales en el archivo `.env` sean correctas
- Asegúrate de usar las credenciales de "TEST" (prueba)

### La aplicación no se abre
- Verifica que hayas ejecutado `npm run dev`
- Espera unos segundos a que termine de cargar
- Abre tu navegador en http://localhost:3000

## 📞 ¿Necesitas ayuda?

Si tienes problemas:

1. **Revisa los mensajes de error** en la ventana de comandos
2. **Verifica que todos los pasos** estén completados
3. **Asegúrate de que las credenciales** de MercadoPago sean correctas
4. **Reinicia la aplicación** cerrando y volviendo a ejecutar `npm run dev`

## 🎉 ¡Felicitaciones!

Si llegaste hasta aquí, ¡tu sistema de venta de entradas está funcionando! 

Ahora puedes:
- ✅ Crear eventos
- ✅ Vender entradas con datos completos de cada persona
- ✅ Aceptar pagos con MercadoPago
- ✅ Enviar entradas por email
- ✅ Validar códigos QR
- ✅ **Exportar listas de asistentes a Excel**
- ✅ Ver estadísticas de ventas

### 🆕 Nuevas funcionalidades implementadas:

**Datos completos por persona:**
- Cuando alguien compra múltiples entradas, cada entrada es para una persona diferente
- Se capturan: nombre, email, DNI y teléfono de cada asistente
- Los datos se guardan individualmente en la base de datos

**Exportación a Excel:**
- Ve a `/admin` para acceder al panel de administración
- Exporta datos de asistentes por evento individual
- Exporta datos de todos los eventos en un solo archivo
- Los archivos Excel incluyen: datos personales, códigos de entrada, estado, fecha de compra, etc.

¡Disfruta tu nueva aplicación de venta de entradas! 🎊

---

## 📋 Información técnica (para desarrolladores)

- **Frontend**: React + TypeScript + Tailwind CSS
- **Backend**: Node.js + Express + SQLite
- **Pagos**: MercadoPago
- **Base de datos**: SQLite (archivo local)
- **Emails**: Nodemailer con Gmail

### Estructura del proyecto:
```
ticketing-app/
├── client/          # Aplicación web (React)
├── server/          # Servidor (Node.js)
├── README.md        # Este archivo
└── package.json     # Configuración del proyecto
```

### Comandos útiles:
- `npm run dev` - Ejecutar en modo desarrollo
- `npm run build` - Construir para producción
- `npm run server` - Solo servidor
- `npm run client` - Solo frontend